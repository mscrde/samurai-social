"use strict";(self.webpackChunkpet_project=self.webpackChunkpet_project||[]).push([[490],{5490:(s,e,t)=>{t.r(e),t.d(e,{default:()=>k});var a=t(8687),o=t(6300),r=t(2791);const n="Post_post__9KJzS",u="Post_authorInfo__-nZjb",i="Post_message__L+Sk1";var l=t(6485),d=t(184);const c=s=>(0,d.jsxs)("div",{className:n,children:[(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("img",{src:l,alt:"anime"}),(0,d.jsx)("div",{children:s.authorName})]}),(0,d.jsx)("div",{className:i,children:s.message})]}),p="Posts_posts__pdW+M",h="Posts_newPost__hzkzv";var j=t(704),m=t(6139);const x=s=>{const e=s.postsData.map((s=>(0,d.jsx)(c,{message:s.message,id:s.id,authorName:s.authorName},s.id))),t=(0,j.Z)({form:"newPostForm"})((s=>(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)(m.Z,{name:"newPostText",component:"textarea",cols:"30",rows:"10",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430"}),(0,d.jsx)("button",{children:"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c"})]})));return(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)("div",{children:"\u041f\u043e\u0441\u0442\u044b"}),(0,d.jsx)("div",{className:h,children:(0,d.jsx)(t,{onSubmit:e=>{s.createPost(e.newPostText)}})}),e]})},f="UserInfo_userInfoContainer__H9afX",v="UserInfo_userInfo__ZH3js",g="UserStatus_userStatus__nlaep",_=s=>{const[e,t]=(0,r.useState)(!1),[a,o]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{o(s.status)}),[s.status]);return(0,d.jsx)("div",{children:e?(0,d.jsx)("input",{autoFocus:!0,onChange:s=>{var e;o(null===(e=s.currentTarget)||void 0===e?void 0:e.value)},onBlur:()=>{s.updateUserStatus(a),t(!1)},value:a}):(0,d.jsx)("span",{className:g,onDoubleClick:()=>t(!0),children:s.status})})},I=s=>{var e,t;return(0,d.jsxs)("div",{className:f,children:[(0,d.jsx)("img",{src:(null===(e=s.userInfo.photos)||void 0===e?void 0:e.large)||(null===(t=s.userInfo.photos)||void 0===t?void 0:t.small)||l,alt:"anime"}),(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("div",{children:s.userInfo.fullName}),s.userInfo.aboutMe&&(0,d.jsx)("div",{children:s.userInfo.aboutMe}),(0,d.jsxs)("div",{children:[s.userInfo.lookingForAJob?"\u0418\u0449\u0435\u0442":"\u041d\u0435 \u0438\u0449\u0435\u0442"," \u0440\u0430\u0431\u043e\u0442\u043a\u0443 ",s.userInfo.lookingForAJobDescription&&"- ".concat(s.userInfo.lookingForAJobDescription)]}),(0,d.jsx)(_,{status:s.userStatus,updateUserStatus:s.updateUserStatus})]})]})},P=s=>{var e;return(0,d.jsxs)("div",{children:[(0,d.jsx)(I,{userInfo:s.userInfo,userStatus:s.userStatus,updateUserStatus:s.updateUserStatus}),Number(null===(e=s.userInfo)||void 0===e?void 0:e.userId)===s.authData.id&&(0,d.jsx)(x,{postsData:s.postsData,newPostControlValue:s.newPostControlValue,updateNewPostControlValue:s.updateNewPostControlValue,createPost:s.createPost})]})};var S=t(143),U=t(7689),D=t(776),b=t(7781),N=t(7148);class w extends r.Component{componentDidMount(){this.loadUserData()}componentDidUpdate(s,e){s.params.userId!==this.props.params.userId&&this.loadUserData()}loadUserData(){const s=this.props.params.userId||this.props.authData.id;this.props.getUser(s),this.props.getUserStatus(s)}render(){return this.props.isUserInfoFetching?(0,d.jsx)(S.a,{}):(0,d.jsx)(P,{...this.props})}}const C={createPost:o.Xr,getUser:o.nZ,getUserStatus:o.$S,updateUserStatus:o.Gk},k=(0,b.qC)((0,a.$j)((s=>({userInfo:s.profilePage.userInfo,userStatus:s.profilePage.userStatus,postsData:s.profilePage.postsData,newPostControlValue:s.profilePage.newPostControlValue,isUserInfoFetching:s.profilePage.isUserInfoFetching,authData:s.auth})),C),D.F,N.y)((s=>(0,d.jsx)(w,{...s,params:(0,U.UO)()})))},776:(s,e,t)=>{t.d(e,{F:()=>n});var a=t(8687),o=t(7689),r=t(184);const n=s=>(0,a.$j)((s=>({auth:s.auth})),{})((e=>e.auth.isAuth?(0,r.jsx)(s,{...e}):(0,r.jsx)(o.Fg,{to:"/login"})))},7148:(s,e,t)=>{t.d(e,{y:()=>n});var a=t(2791),o=t(143),r=t(184);const n=s=>e=>(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(o.a,{}),children:(0,r.jsx)(s,{...e})})},6485:(s,e,t)=>{s.exports=t.p+"static/media/anime.04e25aaeac01f376ee16.jpg"}}]);
//# sourceMappingURL=490.50133582.chunk.js.map