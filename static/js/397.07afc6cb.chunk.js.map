{"version":3,"file":"static/js/397.07afc6cb.chunk.js","mappings":"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","sources":["webpack://pet-project/./src/components/Users/User/User.module.scss?c19e","components/Users/User/User.jsx","webpack://pet-project/./src/components/Users/Users.module.scss?b204","components/Users/Users.jsx","redux/selectors/users-selectors.js","components/Users/UsersContainer.jsx","components/hoc/WithAuthCheck.jsx","components/hoc/WithSuspense.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__RaatM\",\"avatarAndButton\":\"User_avatarAndButton__Xw-8Q\",\"userInfo\":\"User_userInfo__detJY\",\"mainInfo\":\"User_mainInfo__Ob9zN\"};","import React from 'react';\nimport UserStyles from './User.module.scss';\nimport { NavLink } from \"react-router-dom\";\nimport AnimeImage from '../../../images/anime.jpg';\n\nconst User = (props) => (\n    <div className={UserStyles.user}>\n        <div className={UserStyles.avatarAndButton}>\n            <NavLink to={`/profile/${props.user.id}`}>\n                <img src={props.user.photos?.small || props.user.photos?.large || AnimeImage} alt='anime' />\n            </NavLink>\n            <button\n                disabled={props.followingInProcessUserIds.find(id => id === props.user.id)}\n                onClick={() => props.user.followed ? props.unfollow(props.user.id) : props.follow(props.user.id)}\n            >\n                {!props.user.followed ? 'Подписаться': 'Отписаться'}\n            </button>\n        </div>\n        <div className={UserStyles.userInfo}>\n            <div className={UserStyles.mainInfo}>\n                <div>\n                    {props.user.name}\n                </div>\n                <div>\n                    {props.user.location?.country || 'неизвестная страна'}, <br /> {props.user.location?.city || 'неизвестный город'}\n                </div>\n            </div>\n\n            <div>\n                {props.user.status}\n            </div>\n        </div>\n    </div>\n)\n\nexport { User };","// extracted by mini-css-extract-plugin\nexport default {\"userItem\":\"Users_userItem__yKuPe\",\"usersHeader\":\"Users_usersHeader__zA7Xt\",\"pageNumbers\":\"Users_pageNumbers__8F4sw\",\"activePage\":\"Users_activePage__rN81R\"};","import React, { useState } from \"react\";\nimport { User } from \"./User/User\";\nimport UsersStyles from './Users.module.scss';\n\n\nconst Users = (props) => {\n    const [currnetPageNumber, setCurrentPageNumber] = useState(1);\n\n    const usersTemplate = props.users.map(user => \n        <div className={UsersStyles.userItem} key={user.id}>\n            <User\n                user={user}\n                follow={props.follow}\n                unfollow={props.unfollow}\n                followingInProcessUserIds={props.followingInProcessUserIds}/>\n        </div>\n    )\n\n    const onCurrentPageChange = (pageNumber) => {\n        setCurrentPageNumber(pageNumber);\n        props.onSelectCurrentPage(pageNumber);\n    }\n\n    const pagesTemplate = props.pages\n        .filter(pageNumber => currnetPageNumber < 5 ? pageNumber <= 9 : pageNumber < currnetPageNumber + 5 && pageNumber > currnetPageNumber - 5)\n        .map(pageNumber => \n            <div\n                key={pageNumber}\n                className={pageNumber === currnetPageNumber ? UsersStyles.activePage : undefined}\n                onClick={() => onCurrentPageChange(pageNumber)}>\n                {pageNumber}\n            </div>\n        )\n\n    return (\n        <div>\n            <div className={UsersStyles.usersHeader}>\n                <div>\n                    Всего пользователей: { props.usersTotalCount }\n                </div>\n\n                <div className={UsersStyles.pageNumbers}>\n                    { pagesTemplate }\n                </div>\n            </div>\n            <div>\n                { usersTemplate }\n            </div>\n        </div>\n    )\n}\n\nexport { Users };","import { createSelector } from \"reselect\";\n\nexport const getUsersFromState = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getFilterableUsers = createSelector(getUsersFromState, (users) => {\n    return users.filter(u => true);\n})","import { connect } from \"react-redux\"\nimport { Users } from \"./Users\";\nimport { followThunk, getUsersThunk, unfollowThunk } from \"../../redux/reducers/usersReducer\";\nimport React from \"react\";\nimport { Loader } from \"../common/Loader/Loader\";\nimport { withAuthCheck } from \"../hoc/WithAuthCheck\";\nimport { compose } from \"redux\";\nimport { getFilterableUsers } from \"../../redux/selectors/users-selectors\";\nimport { withSuspense } from \"../hoc/WithSuspense\";\n\nclass UsersApiContainer extends React.Component {\n    getUsers(pageNumber=null) {\n        const page = pageNumber || 1;\n        this.props.getUsers(page, this.props.pageSize)\n    }\n    \n    componentDidMount() {\n        this.getUsers();\n    }\n\n    onSelectCurrentPage(pageNumber) {\n        this.getUsers(pageNumber);\n    }\n\n    render() {\n        return this.props.isUsersFetching ? (<Loader />) : (\n            <Users\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                pages={this.props.pages}\n                onSelectCurrentPage={this.onSelectCurrentPage.bind(this)}\n                usersTotalCount={this.props.usersTotalCount}\n                followingInProcessUserIds={this.props.followingInProcessUserIds}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    users: getFilterableUsers(state),\n    usersTotalCount: state.usersPage.usersTotalCount,\n    pageSize: state.usersPage.pageSize,\n    pages: state.usersPage.pages,\n    isUsersFetching: state.usersPage.isUsersFetching,\n    followingInProcessUserIds: state.usersPage.followingInProcessUserIds,\n});\n\nconst mapDispatchToProps = {\n    getUsers: getUsersThunk,\n    follow: followThunk,\n    unfollow: unfollowThunk,\n};\n\nconst UsersContainer = compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthCheck,\n    withSuspense,\n)(UsersApiContainer);\n\nexport default UsersContainer;","import { connect } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\nconst withAuthCheck = (Component) => {\n    const wrapper = (props) => {\n        if (!props.auth.isAuth) {\n            return <Navigate  to=\"/login\"/>;\n        }\n\n        return <Component {...props}/>\n    }\n\n    const mapStateToProps = (state) => ({\n        auth: state.auth\n    });\n    const mapDispatchToProps = {}\n    \n    const checkComponent = connect(mapStateToProps, mapDispatchToProps)(wrapper)\n\n    return checkComponent;\n}\n\nexport { withAuthCheck }\n","import React, { Suspense } from \"react\"\nimport { Loader } from \"../common/Loader/Loader\"\n\nconst withSuspense = (Component) => {\n    const wrapper = (props) => (\n        <Suspense fallback={<Loader />}>\n            <Component {...props} />\n        </Suspense>\n    )\n    \n    return wrapper;\n}\n\nexport { withSuspense }\n"],"names":["User","props","_props$user$photos","_props$user$photos2","_props$user$location","_props$user$location2","_jsxs","className","UserStyles","children","_jsx","NavLink","to","concat","user","id","src","photos","small","large","AnimeImage","alt","disabled","followingInProcessUserIds","find","onClick","followed","unfollow","follow","name","location","country","city","status","Users","currnetPageNumber","setCurrentPageNumber","useState","usersTemplate","users","map","UsersStyles","pagesTemplate","pages","filter","pageNumber","undefined","onSelectCurrentPage","onCurrentPageChange","usersTotalCount","getFilterableUsers","createSelector","state","usersPage","u","UsersApiContainer","React","getUsers","page","arguments","length","this","pageSize","componentDidMount","render","isUsersFetching","Loader","bind","mapDispatchToProps","getUsersThunk","followThunk","unfollowThunk","compose","connect","withAuthCheck","withSuspense","Component","auth","isAuth","Navigate","Suspense","fallback"],"sourceRoot":""}