{"version":3,"file":"static/js/490.50133582.chunk.js","mappings":"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","sources":["webpack://pet-project/./src/components/Profile/Posts/Post/Post.module.scss?3df6","components/Profile/Posts/Post/Post.jsx","webpack://pet-project/./src/components/Profile/Posts/Posts.module.scss?d335","components/Profile/Posts/Posts.jsx","webpack://pet-project/./src/components/Profile/UserInfo/UserInfo.module.scss?42ca","webpack://pet-project/./src/components/Profile/UserInfo/UserStatus/UserStatus.module.scss?fa90","components/Profile/UserInfo/UserStatus/UserStatus.tsx","components/Profile/UserInfo/UserInfo.tsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/hoc/WithAuthCheck.jsx","components/hoc/WithSuspense.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__9KJzS\",\"authorInfo\":\"Post_authorInfo__-nZjb\",\"message\":\"Post_message__L+Sk1\"};","import PostStyles from './Post.module.scss';\nimport AnimeImage from '../../../../images/anime.jpg';\nimport React from 'react';\n\nconst Post = (props) => (\n    <div className={PostStyles.post}>\n        <div className={PostStyles.authorInfo}>\n            <img src={AnimeImage} alt=\"anime\" />\n            <div>{ props.authorName }</div>\n        </div>\n        <div className={PostStyles.message}>{ props.message }</div>\n    </div>\n    \n)\n\nexport { Post }","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"Posts_posts__pdW+M\",\"newPost\":\"Posts_newPost__hzkzv\"};","import React from 'react';\nimport { Post } from './Post/Post';\nimport PostsStyles from './Posts.module.scss';\nimport { Field, reduxForm } from 'redux-form';\n\nconst Posts = (props) => {\n    const Posts = props.postsData.map(postData => (\n        <Post key={postData.id} message={postData.message} id={postData.id} authorName={postData.authorName} />\n    ))\n\n    const NewPostFormComponent = reduxForm({\n        form: 'newPostForm'\n    })((props) => (\n        <form onSubmit={props.handleSubmit}>\n            <Field\n                name=\"newPostText\"\n                component=\"textarea\"\n                cols=\"30\"\n                rows=\"10\"\n                placeholder=\"Текст нового поста\"\n            />\n            <button>Запостить</button>\n        </form>\n    ))\n\n    const createNewPost = (newPostFormValue) => {\n        props.createPost(newPostFormValue.newPostText)\n    }\n\n    return (\n        <div className={PostsStyles.posts}>\n            <div>Посты</div>\n\n            <div className={PostsStyles.newPost}>\n                <NewPostFormComponent onSubmit={createNewPost}/>\n            </div>\n\n            {Posts}\n        </div>\n    )\n}\n\nexport { Posts };","// extracted by mini-css-extract-plugin\nexport default {\"userInfoContainer\":\"UserInfo_userInfoContainer__H9afX\",\"userInfo\":\"UserInfo_userInfo__ZH3js\"};","// extracted by mini-css-extract-plugin\nexport default {\"userStatus\":\"UserStatus_userStatus__nlaep\"};","import React, { useEffect, useState } from \"react\"\nimport UserStatusStyle from './UserStatus.module.scss';\n\ntype UserStatusPropsType = {\n    status: string,\n    updateUserStatus: (status: string) => void\n}\n\nconst UserStatus: React.FC<UserStatusPropsType> = (props) => {\n    const [isStatusEditing, setIsStatusEditing] = useState(false);\n    const [statusControlValue, setStatusControlValue] = useState(props.status);\n\n    useEffect( () => {\n        setStatusControlValue(props.status);\n    }, [props.status])\n\n    const onStatusControlChange = (e: any) => {\n        setStatusControlValue(e.currentTarget?.value)\n    }\n\n    const onStatusControlBlur = () => {\n        props.updateUserStatus(statusControlValue);\n        setIsStatusEditing(false);\n    }\n\n    return (\n        <div>\n            {\n                isStatusEditing ? \n                    <input autoFocus={true} onChange={onStatusControlChange} onBlur={onStatusControlBlur} value={statusControlValue}/> :\n                    <span className={UserStatusStyle.userStatus} onDoubleClick={() => setIsStatusEditing(true)}>{props.status}</span>\n            }\n        </div>\n    )\n}\n\nexport { UserStatus }","import React from 'react';\nimport UserInfoStyles from './UserInfo.module.scss';\nimport AnimeImage from '../../../images/anime.jpg';\nimport { UserStatus } from './UserStatus/UserStatus';\n\ntype UserInfoPropsType = {\n    userInfo: {\n        photos: {\n            large: string,\n            small: string\n        },\n        fullName: string,\n        aboutMe: string,\n        lookingForAJob: boolean,\n        lookingForAJobDescription: string\n    },\n    userStatus: string,\n    updateUserStatus: (status: string) => void\n}\n\nconst UserInfo: React.FC<UserInfoPropsType> = (props) => (\n    <div className={UserInfoStyles.userInfoContainer}>\n        <img src={props.userInfo.photos?.large || props.userInfo.photos?.small || AnimeImage } alt='anime'/>\n        <div className={UserInfoStyles.userInfo}>\n            <div>{props.userInfo.fullName}</div>\n            { props.userInfo.aboutMe && <div>{props.userInfo.aboutMe}</div> }\n            <div>\n                { props.userInfo.lookingForAJob ? 'Ищет' : 'Не ищет'} работку { props.userInfo.lookingForAJobDescription && `- ${props.userInfo.lookingForAJobDescription}` }\n            </div>\n\n            <UserStatus status={props.userStatus} updateUserStatus={props.updateUserStatus}/>\n        </div>\n    </div>\n)\n\nexport { UserInfo };","import { Posts } from \"./Posts/Posts\";\nimport { UserInfo } from \"./UserInfo/UserInfo\";\n\nconst Profile = (props) => (\n    <div>\n        <UserInfo userInfo={props.userInfo} userStatus={props.userStatus} updateUserStatus={props.updateUserStatus}/>\n        { Number(props.userInfo?.userId) === props.authData.id && <Posts \n            postsData={props.postsData}\n            newPostControlValue={props.newPostControlValue}\n            updateNewPostControlValue={props.updateNewPostControlValue}\n            createPost={props.createPost}\n        /> }\n    </div>\n)\n\nexport { Profile };","import { connect } from \"react-redux\";\nimport { addNewPostAction, getUserStatusThunk, getUserThunk, updateUserStatusThunk } from \"../../redux/reducers/profileReducer\";\nimport { Profile } from \"./Profile\";\nimport React from \"react\";\nimport { Loader } from \"../common/Loader/Loader\";\nimport { useParams } from \"react-router-dom\";\nimport { withAuthCheck } from \"../hoc/WithAuthCheck\";\nimport { compose } from \"redux\";\nimport { withSuspense } from \"../hoc/WithSuspense\";\n\nclass ProfileApiComponent extends React.Component {\n\n    componentDidMount() {\n        this.loadUserData();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.params.userId !== this.props.params.userId) {\n            this.loadUserData();\n        }\n    }\n\n    loadUserData() {\n        const userId = this.props.params.userId || this.props.authData.id;\n        \n        this.props.getUser(userId);\n        this.props.getUserStatus(userId);\n    }\n\n    render() {\n        return (\n            this.props.isUserInfoFetching ? <Loader /> : <Profile {...this.props}/>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    userInfo: state.profilePage.userInfo,\n    userStatus: state.profilePage.userStatus,\n    postsData: state.profilePage.postsData,\n    newPostControlValue: state.profilePage.newPostControlValue,\n    isUserInfoFetching: state.profilePage.isUserInfoFetching,\n    authData: state.auth,\n});\n\nconst mapDispatchToProps ={\n    createPost: addNewPostAction,\n    getUser: getUserThunk,\n    getUserStatus: getUserStatusThunk,\n    updateUserStatus: updateUserStatusThunk,\n};\n\nconst ProfileWithRouteDataComponent = (props) => (<ProfileApiComponent {...props} params={useParams()}/>)\n\nconst ProfileContainer =  compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthCheck,\n    withSuspense,\n)(ProfileWithRouteDataComponent)\n\nexport default ProfileContainer;","import { connect } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\nconst withAuthCheck = (Component) => {\n    const wrapper = (props) => {\n        if (!props.auth.isAuth) {\n            return <Navigate  to=\"/login\"/>;\n        }\n\n        return <Component {...props}/>\n    }\n\n    const mapStateToProps = (state) => ({\n        auth: state.auth\n    });\n    const mapDispatchToProps = {}\n    \n    const checkComponent = connect(mapStateToProps, mapDispatchToProps)(wrapper)\n\n    return checkComponent;\n}\n\nexport { withAuthCheck }\n","import React, { Suspense } from \"react\"\nimport { Loader } from \"../common/Loader/Loader\"\n\nconst withSuspense = (Component) => {\n    const wrapper = (props) => (\n        <Suspense fallback={<Loader />}>\n            <Component {...props} />\n        </Suspense>\n    )\n    \n    return wrapper;\n}\n\nexport { withSuspense }\n"],"names":["Post","props","_jsxs","className","PostStyles","children","_jsx","src","AnimeImage","alt","authorName","message","Posts","postsData","map","postData","id","NewPostFormComponent","reduxForm","form","onSubmit","handleSubmit","Field","name","component","cols","rows","placeholder","PostsStyles","newPostFormValue","createPost","newPostText","UserStatus","isStatusEditing","setIsStatusEditing","useState","statusControlValue","setStatusControlValue","status","useEffect","autoFocus","onChange","e","_e$currentTarget","currentTarget","value","onBlur","onStatusControlBlur","updateUserStatus","UserStatusStyle","onDoubleClick","UserInfo","_props$userInfo$photo","_props$userInfo$photo2","UserInfoStyles","userInfo","photos","large","small","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","concat","userStatus","Profile","_props$userInfo","Number","userId","authData","newPostControlValue","updateNewPostControlValue","ProfileApiComponent","React","componentDidMount","this","loadUserData","componentDidUpdate","prevProps","prevState","params","getUser","getUserStatus","render","isUserInfoFetching","Loader","mapDispatchToProps","addNewPostAction","getUserThunk","getUserStatusThunk","updateUserStatusThunk","compose","connect","state","profilePage","auth","withAuthCheck","withSuspense","useParams","Component","isAuth","Navigate","to","Suspense","fallback"],"sourceRoot":""}